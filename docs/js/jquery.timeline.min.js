!function r(s,o,c){function l(t,e){if(!o[t]){if(!s[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=o[t]={exports:{}};s[t][0].call(i.exports,function(e){return l(s[t][1][e]||e)},i,i.exports,r,s,o,c)}return o[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,a){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(e){i(t,e,a[e])})}return t}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}
/*!
 * jQuery Timeline
 * ------------------------
 * Version: 2.0.0a1
 * Author: Ka2 (https://ka2.org/)
 * Repository: https://github.com/ka215/jquery.timeline/tree/develop
 * Lisenced: MIT
 */
var s="Timeline",o="jq.timeline",c=".".concat(o),_="jqtl-",l=$.fn[s],y={type:"bar",scale:"day",startDatetime:"currently",endDatetime:"auto",datetimePrefix:"",headline:{display:!0,title:"",range:!0,locale:"en-US",format:{hour12:!1}},footer:{display:!0,content:"",range:!1,locale:"en-US",format:{hour12:!1}},zerofillYear:!1,range:3,sidebar:{sticky:!1,overlay:!1,list:[]},rows:"auto",rowHeight:48,width:"auto",height:"auto",minGridSize:30,marginHeight:2,ruler:{top:{lines:[],height:30,fontSize:14,color:"#777777",background:"#FFFFFF",locale:"en-US",format:{hour12:!1}}},rangeAlign:"current",naviIcon:{left:"".concat(_,"circle-left"),right:"".concat(_,"circle-right")},loader:"default",hideScrollbar:!1,eventMeta:{display:!1,scale:"day",locale:"en-US",format:{hour12:!1},content:""},showPointer:!0,debug:!1},h={millennium:100,century:500,decade:500,lustrum:500,year:500,month:540,week:530,day:366,hour:720,quarterHour:720,halfHour:720,minute:720,second:900},p={uid:"",eventId:"",x:0,y:y.marginHeight,width:y.minGridSize,height:y.rowHeight-2*y.marginHeight,bgColor:"#E7E7E7",color:"#343A40",bdColor:"#6C757D",label:"",content:"",image:"",margin:y.marginHeight,rangeMeta:"",size:"normal",extend:{},callback:function(){},relation:{}},d={INITIALIZED:"initialized".concat(c),HIDE:"hide".concat(c),SHOW:"show".concat(c),CLICK_EVENT:"click.open".concat(c),FOCUSIN_EVENT:"focusin.event".concat(c),FOCUSOUT_EVENT:"focusout.event".concat(c),MOUSEENTER_POINTER:"mouseenter.pointer".concat(c),MOUSELEAVE_POINTER:"mouseleave.pointer".concat(c)},I={TIMELINE_CONTAINER:"".concat(_,"container"),TIMELINE_MAIN:"".concat(_,"main"),TIMELINE_HEADLINE:"".concat(_,"headline"),TIMELINE_HEADLINE_WRAPPER:"".concat(_,"headline-wrapper"),HEADLINE_TITLE:"".concat(_,"timeline-title"),RANGE_META:"".concat(_,"range-meta"),RANGE_SPAN:"".concat(_,"range-span"),TIMELINE_EVENT_CONTAINER:"".concat(_,"event-container"),TIMELINE_BACKGROUND_GRID:"".concat(_,"bg-grid"),TIMELINE_RELATION_LINES:"".concat(_,"relation-lines"),TIMELINE_EVENTS:"".concat(_,"events"),TIMELINE_EVENT_NODE:"".concat(_,"event-node"),TIMELINE_EVENT_LABEL:"".concat(_,"event-label"),TIMELINE_EVENT_THUMBNAIL:"".concat(_,"event-thumbnail"),TIMELINE_RULER_LINES:"".concat(_,"ruler-line-rows"),TIMELINE_RULER_ITEM:"".concat(_,"ruler-line-item"),TIMELINE_SIDEBAR:"".concat(_,"side-index"),TIMELINE_SIDEBAR_MARGIN:"".concat(_,"side-index-margin"),TIMELINE_SIDEBAR_ITEM:"".concat(_,"side-index-item"),TIMELINE_FOOTER:"".concat(_,"footer"),TIMELINE_FOOTER_CONTENT:"".concat(_,"footer-content"),VIEWER_EVENT_TITLE:"".concat(_,"event-title"),VIEWER_EVENT_CONTENT:"".concat(_,"event-content"),VIEWER_EVENT_META:"".concat(_,"event-meta"),VIEWER_EVENT_IMAGE_WRAPPER:"".concat(_,"event-image-wrapper"),VIEWER_EVENT_IMAGE:"".concat(_,"event-image"),VIEWER_EVENT_TYPE_POINTER:"".concat(_,"event-type-pointer"),HIDE_SCROLLBAR:"".concat(_,"hide-scrollbar"),HIDE:"".concat(_,"hide"),RULER_ITEM_ALIGN_LEFT:"".concat(_,"rli-left"),STICKY_LEFT:"".concat(_,"sticky-left"),OVERLAY:"".concat(_,"overlay"),ALIGN_SELF_RIGHT:"".concat(_,"align-self-right"),LOADER_ITEM:"".concat(_,"loading")},f={EVENT_NODE:".".concat(_,"event-node"),EVENT_VIEW:".timeline-event-view, .".concat(_,"event-view"),RULER_TOP:".".concat(_,"ruler-top"),RULER_BOTTOM:".".concat(_,"ruler-bottom"),TIMELINE_CONTAINER:".".concat(I.TIMELINE_CONTAINER),TIMELINE_RULER_TOP:".".concat(_,"ruler-top"),TIMELINE_RULER_BOTTOM:".".concat(_,"ruler-bottom"),TIMELINE_RELATION_LINES:".".concat(I.TIMELINE_RELATION_LINES),TIMELINE_EVENTS:".".concat(I.TIMELINE_EVENTS),TIMELINE_SIDEBAR_ITEM:".".concat(I.TIMELINE_SIDEBAR_ITEM),TIMELINE_EVENT_NODE:".".concat(I.TIMELINE_EVENT_NODE),VIEWER_EVENT_TYPE_POINTER:".".concat(I.VIEWER_EVENT_TYPE_POINTER),LOADER:"#".concat(_,"loader"),DEFAULT_EVENTS:".timeline-events"},g=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this._config=this._getConfig(t),this._element=e,this._selector=null,this._isInitialized=!1,this._isCached=!1,this._isCompleted=!1,this._isShown=!1,this._instanceProps={}}var e,t,a;return e=i,a=[{key:"_jQueryInterface",value:function(a){for(var e=arguments.length,n=new Array(1<e?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return this.each(function(){var e=$(this).data(o),t=u({},y,$(this).data(),"object"===r(a)&&a?a:{});if(e||(e=new i(this,t),$(this).data(o,e)),"string"==typeof a&&"_"!=a.charAt(0)){if(void 0===e[a])throw new ReferenceError('No method named "'.concat(a,'"'));e[a](n)}else e._isInitialized||e._init()})}},{key:"VERSION",get:function(){return"2.0.0a1"}},{key:"Default",get:function(){return y}}],(t=[{key:"_getConfig",value:function(e){return e=u({},y,e)}},{key:"_filterScaleKeyName",value:function(e){var t=null;switch(!0){case/^quarter-?(|hour)$/i.test(e):t="quarterHour";break;case/^half-?(|hour)$/i.test(e):t="halfHour";break;default:t=e}return t}},{key:"_init",value:function(){var t=this;this._debug("_init");var e=this._element,a="".concat(e.tagName).concat(e.id?"#".concat(e.id):"").concat(e.className?".".concat(e.className.replace(/\s/g,".")):"");if(this._selector=a.toLowerCase(),!this._isInitialized&&!this._isCompleted){if(this._calcVars(),!this._verifyMaxRenderableRange())throw new RangeError("Timeline display period exceeds maximum renderable range.");if(!this._isInitialized){this._renderView();var n=$.Event(d.INITIALIZED,{_elem:e});$(e).trigger(n),$(e).off(d.INITIALIZED)}this._isCached||this._loadEvent(),this._isCached&&this._placeEvent(),$(document).on(d.CLICK_EVENT,"".concat(this._selector," ").concat(f.EVENT_NODE),function(e){return t.openEvent(e)}),$(e).on(d.FOCUSIN_EVENT,f.TIMELINE_EVENT_NODE,function(e){return t._activeEvent(e)}),$(e).on(d.FOCUSOUT_EVENT,f.TIMELINE_EVENT_NODE,function(e){return t._activeEvent(e)}),/^point(|er)$/i.test(this._config.type)&&($(e).on(d.MOUSEENTER_POINTER,f.VIEWER_EVENT_TYPE_POINTER,function(e){return t._hoverPointer(e)}),$(e).on(d.MOUSELEAVE_POINTER,f.VIEWER_EVENT_TYPE_POINTER,function(e){return t._hoverPointer(e)})),this._isCompleted=!0}}},{key:"_calcVars",value:function(){var t=this,e=this._config,a={};if(a.begin=this.supplement(null,this._getPluggableDatetime(e.startDatetime,"first")),a.end=this.supplement(null,this._getPluggableDatetime(e.endDatetime,"last")),a.scaleSize=this.supplement(null,e.minGridSize,this.validateNumeric),a.rows=this._getPluggableRows(),a.rowSize=this.supplement(null,e.rowHeight,this.validateNumeric),a.width=this.supplement(null,e.width,this.validateNumeric),a.height=this.supplement(null,e.height,this.validateNumeric),this._instanceProps=a,/^(year|month)s?$/i.test(e.scale)){var n=this._verifyScale(e.scale),i=Object.values(n),r=this.numRound(i.reduce(function(e,t){return e+t},0)/i.length,4),s=/^years?$/i.test(e.scale)?365:30,o=0;i.forEach(function(e){o+=t.numRound(e*a.scaleSize/s,2)}),a.scale=864e5*r,a.grids=i.length,a.variableScale=n,a.fullwidth=o}else a.scale=this._verifyScale(e.scale),a.grids=Math.ceil((a.end-a.begin)/a.scale),a.variableScale=null,a.fullwidth=a.grids*a.scaleSize;for(var c in a.fullheight=a.rows*a.rowSize,a.visibleWidth=0<a.width?"".concat(a.width<=a.fullwidth?a.width:a.fullwidth,"px"):"100%",a.visibleHeight=0<a.height?"".concat(a.height<=a.fullheight?a.height:a.fullheight,"px"):"auto",a)if("width"!==c&&"height"!==c&&"variableScale"!==c&&this.is_empty(a[c]))throw new TypeError('Property "'.concat(c,'" cannot set because undefined or invalid variable.'));if(a.fullwidth<2||a.fullheight<2)throw new TypeError("The range of the timeline to be rendered is incorrect.");this._instanceProps=a}},{key:"_getPluggableDatetime",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=this._config,n=null,i=function(e,t){switch(!0){case/^millenniums?|millennia$/i.test(t):case/^century$/i.test(t):case/^dec(ade|ennium)$/i.test(t):case/^lustrum$/i.test(t):case/^years?$/i.test(t):return new Date(e.getFullYear(),0,1);case/^months?$/i.test(t):return new Date(e.getFullYear(),e.getMonth(),1);case/^(week|day)s?$/i.test(t):return new Date(e.getFullYear(),e.getMonth(),e.getDate());case/^(|half|quarter)-?hours?$/i.test(t):return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case/^minutes?$/i.test(t):return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case/^seconds?$/i.test(t):return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())}};switch(!0){case/^current(|ly)$/i.test(e):n=new Date;break;case/^auto$/i.test(e):var r=null,s=this.getHigherScale(a.scale);n=/^current(|ly)$/i.test(a.startDatetime)?i(n=new Date,a.scale):this.getCorrectDatetime(a.startDatetime),a.range||0<a.range?(r=/^years?$/i.test(s)?315576e5:/^months?$/i.test(s)?2630016000.0000005:this._verifyScale(s),n.setTime(n.getTime()+r*a.range)):(r=/^years?$/i.test(a.scale)?315576e5:/^months?$/i.test(a.scale)?2630016000.0000005:this._verifyScale(a.scale),n.setTime(n.getTime()+r*h[this._filterScaleKeyName(a.scale)]));break;default:n=this.getCorrectDatetime(e)}return this.is_empty(t)||("first"===t?n=i(n,a.scale):"last"===t&&(n=function(e,t){var a;switch(!0){case/^millenniums?|millennia$/i.test(t):case/^century$/i.test(t):case/^dec(ade|ennium)$/i.test(t):case/^lustrum$/i.test(t):case/^years?$/i.test(t):a=new Date(e.getFullYear()+1,0,1);break;case/^months?$/i.test(t):a=new Date(e.getFullYear(),e.getMonth()+1,1);break;case/^(week|day)s?$/i.test(t):a=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);break;case/^(|half|quarter)-?hours?$/i.test(t):a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+1);break;case/^minutes?$/i.test(t):a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+1);break;case/^seconds?$/i.test(t):a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()+1)}return new Date(a.getTime()-1)}(n,a.scale))),n.getTime()}},{key:"_getPluggableParams",value:function(e){var t={};if("string"==typeof e&&e)try{(t=JSON.parse(JSON.stringify(new Function("return ".concat(e))()))).hasOwnProperty("extend")&&(t.extend=JSON.parse(JSON.stringify(new Function("return ".concat(t.extend))())))}catch(e){console.warn("Can not parse to object therefor invalid param.")}return t}},{key:"_getPluggableRows",value:function(){var e=this._config,t=this.supplement("auto",e.rows,this.validateNumeric);return"auto"===t&&(t=e.sidebar.list.length),0<t?t:1}},{key:"_verifyScale",value:function(e){var t=this._config,a=this._instanceProps,n=-1;if(void 0===e||"string"!=typeof e)return!1;switch(!0){case/^millisec(|ond)s?$/i.test(e):n=1;break;case/^seconds?$/i.test(e):n=1e3;break;case/^minutes?$/i.test(e):n=6e4;break;case/^quarter-?(|hour)$/i.test(e):n=9e5;break;case/^half-?(|hour)$/i.test(e):n=18e5;break;case/^hours?$/i.test(e):n=36e5;break;case/^days?$/i.test(e):n=864e5;break;case/^weeks?$/i.test(e):n=6048e5;break;case/^months?$/i.test(e):if(/^(year|month)s?$/i.test(t.scale))return this._diffDate(a.begin,a.end,e);n=2630016000.0000005;break;case/^years?$/i.test(e):if(/^(year|month)s?$/i.test(t.scale))return this._diffDate(a.begin,a.end,e);n=315576e5;break;case/^lustrum$/i.test(e):n=3.1536*Math.pow(10,8)/2*1e3;break;case/^dec(ade|ennium)$/i.test(e):n=3.1536*Math.pow(10,8)*1e3;break;case/^century$/i.test(e):n=315576e7;break;case/^millenniums?|millennia$/i.test(e):n=3.1536*Math.pow(10,10)*1e3;break;default:console.warn("Specified an invalid scale."),n=-1}return 0<n&&n}},{key:"_verifyMaxRenderableRange",value:function(){return this._instanceProps.grids<=h[this._filterScaleKeyName(this._config.scale)]}},{key:"_renderView",value:function(){this._debug("_renderView");var e=this._element,t=this._config,a=this._instanceProps,n=$("<div></div>",{class:I.TIMELINE_CONTAINER,style:"width: ".concat(a.visibleWidth,"; height: ").concat(a.visibleHeight,";")}),i=$("<div></div>",{class:I.TIMELINE_MAIN});if(0==$(e).length)throw new TypeError("Does not exist the element to render a timeline container.");t.debug&&console.log("Timeline:{ fullWidth: ".concat(a.fullwidth,"px,"),"fullHeight: ".concat(a.fullheight,"px,"),"viewWidth: ".concat(a.visibleWidth),"viewHeight: ".concat(a.visibleHeight," }")),$(e).css("position","relative"),t.hideScrollbar&&n.addClass(I.HIDE_SCROLLBAR),$(e).prepend(this._createHeadline()),i.append(this._createEventContainer()),this.is_empty(t.ruler.top)||i.prepend(this._createRuler("top")),this.is_empty(t.ruler.bottom)||i.append(this._createRuler("bottom"));var r={top:parseInt(i.find(f.RULER_TOP).height(),10)-1,bottom:parseInt(i.find(f.RULER_BOTTOM).height(),10)-1};0<t.sidebar.list.length&&n.prepend(this._createSideIndex(r)),n.append(i),$(e).append(n),$(e).append(this._createFooter()),this._isShown=!0}},{key:"_createHeadline",value:function(){var e=this._config,t=this._instanceProps,a=this.supplement(y.headline.display,e.headline.display,this.validateBoolean),n=this.supplement(null,e.headline.title),i=this.supplement(y.headline.range,e.headline.range,this.validateBoolean),r=this.supplement(y.headline.locale,e.headline.locale),s=this.supplement(y.headline.format,e.headline.format),o=this.supplement(null,t.begin),c=this.supplement(null,t.end),l=$("<div></div>",{class:I.TIMELINE_HEADLINE}),u=$("<div></div>",{class:I.TIMELINE_HEADLINE_WRAPPER});if(n&&u.append('<h3 class="'.concat(I.HEADLINE_TITLE,'">').concat(e.headline.title,"</h3>")),i&&o&&c){var h="".concat(new Date(o).toLocaleString(r,s),'<span class="').concat(I.RANGE_SPAN,'"></span>').concat(new Date(c).toLocaleString(r,s));u.append('<div class="'.concat(I.RANGE_META,'">').concat(h,"</div>"))}return a||l.addClass(I.HIDE),l.append(u)}},{key:"_createEventContainer",value:function(){for(var e,t,a,n,i=this,r=this._config,s=this._instanceProps,o=s.fullheight+Math.ceil(s.rows/2),c=$("<div></div>",{class:I.TIMELINE_EVENT_CONTAINER,style:"height:".concat(o,"px;")}),l=$('<canvas width="'.concat(s.fullwidth-1,'" height="').concat(o,'" class="').concat(I.TIMELINE_BACKGROUND_GRID,'"></canvas>')),u=$('<canvas width="'.concat(s.fullwidth-1,'" height="').concat(o,'" class="').concat(I.TIMELINE_RELATION_LINES,'"></canvas>')),h=$("<div></div>",{class:I.TIMELINE_EVENTS}),d=0,g=l[0].getContext("2d"),p=function(e,t){t=i.supplement(!1,t),g.strokeStyle="rgba( 51, 51, 51, 0.025 )",g.lineWidth=1,g.filter="url(#crisp)",g.beginPath(),t?g.setLineDash([1,2]):g.setLineDash([]),g.moveTo(e-.5,0),g.lineTo(e-.5,s.fullheight),g.closePath(),g.stroke()},f=d=0;f<s.rows;f++){d+=f%2==0?1:0;var E=f*s.rowSize+d;e=E,t=f%2==0?"#FEFEFE":"#F8F8F8",t=i.supplement("#FFFFFF",t),g.fillStyle=t,g.fillRect(0,e+.5,s.fullwidth,s.rowSize+1.5),g.stroke()}d=0;for(var v=1;v<s.rows;v++){d+=v%2==0?1:0;var m=v*s.rowSize+d;a=m,n=!0,n=i.supplement(!1,n),g.strokeStyle="rgba( 51, 51, 51, 0.1 )",g.lineWidth=1,g.filter="url(#crisp)",g.beginPath(),n?g.setLineDash([1,2]):g.setLineDash([]),g.moveTo(0,a+.5),g.lineTo(s.fullwidth,a+.5),g.closePath(),g.stroke()}if(/^(year|month)s?$/i.test(r.scale)){var _=/^years?$/i.test(r.scale)?365:30,y=0;for(var w in s.variableScale)p(y+=this.numRound(s.variableScale[w]*s.scaleSize/_,2),!1)}else for(var b=1;b<s.grids;b++)p(b*s.scaleSize,!1);return c.append(l).append(u).append(h)}},{key:"_createRuler",value:function(c){var l=this,u=this._config,h=this._instanceProps,e=this.supplement([u.scale],u.ruler[c].lines,function(e,t){return l.is_array(t)&&0<t.length?t:e}),d=this.supplement(y.ruler.top.height,u.ruler[c].height),t=this.supplement(y.ruler.top.fontSize,u.ruler[c].fontSize),a=this.supplement(y.ruler.top.color,u.ruler[c].color),n=this.supplement(y.ruler.top.background,u.ruler[c].background),i=this.supplement(y.ruler.top.locale,u.ruler[c].locale),r=this.supplement(y.ruler.top.format,u.ruler[c].format),g={lines:e,height:d,fontSize:t,color:a,background:n,locale:i,format:r},s=h.fullwidth-1,o=e.length*d,p=$("<div></div>",{class:"".concat(_,"ruler-").concat(c),style:"height:".concat(o,"px;")}),f=$('<canvas class="'.concat(_,"ruler-bg-").concat(c,'" width="').concat(s,'" height="').concat(o,'"></canvas>')),E=$("<div></div>",{class:"".concat(_,"ruler-content-").concat(c)}),v=0,m=f[0].getContext("2d");return m.fillStyle=n,m.fillRect(0,0,m.canvas.width,m.canvas.height),m.strokeStyle="rgba( 51, 51, 51, 0.1 )",m.lineWidth=1,m.filter="url(#crisp)",e.some(function(e,t){if(/^(quarter|half)-?(|hour)$/i.test(e))return!0;m.beginPath();var a="top"===c?d*(t+1)-.5:d*t+.5;m.moveTo(0,a),m.lineTo(m.canvas.width,a);var n=null,i=0,r=-1.5;if(/^(year|month)s?$/i.test(u.scale))for(var s in n=l._filterVariableScale(e))i+=l.numRound(n[s],2),m.moveTo(i+r,"top"===c?a-d:a),m.lineTo(i+r,"top"===c?a:a+d);else for(var o in n=l._getGridsPerScale(e)){if(l.is_empty(o)||n[o]>=h.grids)break;if(i+=n[o]*h.scaleSize,Math.ceil(i)-r>=m.canvas.width)break;m.moveTo(i+r,"top"===c?a-d:a),m.lineTo(i+r,"top"===c?a:a+d)}m.closePath(),m.stroke(),E.append(l._createRulerContent(n,e,g)),v++}),e.length!=v&&p.css("height","".concat(v*d,"px")),p.append(f).append(E)}},{key:"_filterVariableScale",value:function(e){var t=this._config,a=this._instanceProps,n=/^years?$/i.test(t.scale)?365:30,i=a.variableScale,r={};for(var s in i){var o=i[s],c=this.numRound(o*a.scaleSize/n,2),l=null,u=void 0,h=void 0;switch(!0){case/^millenniums?|millennia$/i.test(e):l=Math.ceil(this.getCorrectDatetime(s).getFullYear()/1e3),r.hasOwnProperty(l)?r[l]+=c:r[l]=c;break;case/^century$/i.test(e):l=Math.ceil(this.getCorrectDatetime(s).getFullYear()/100),r.hasOwnProperty(l)?r[l]+=c:r[l]=c;break;case/^dec(ade|ennium)$/i.test(e):l=Math.ceil(this.getCorrectDatetime(s).getFullYear()/10),r.hasOwnProperty(l)?r[l]+=c:r[l]=c;break;case/^lustrum$/i.test(e):l=Math.ceil(this.getCorrectDatetime(s).getFullYear()/5),r.hasOwnProperty(l)?r[l]+=c:r[l]=c;break;case/^years?$/i.test(e):l="".concat(this.getCorrectDatetime(s).getFullYear()),r.hasOwnProperty(l)?r[l]+=c:r[l]=c;break;case/^months?$/i.test(e):r["".concat(this.getCorrectDatetime(s).getFullYear(),"/").concat(this.getCorrectDatetime(s).getMonth()+1)]=c;break;case/^weeks?$/i.test(e):u=s.split(","),h=this.getWeek(u[0]),r["".concat(this.getCorrectDatetime(u[0]).getFullYear(),",").concat(h)]=c;break;case/^weekdays?$/i.test(e):u=s.split(","),h=this.getCorrectDatetime(u[0]).getDay(),r["".concat(this.getCorrectDatetime(u[0]).getFullYear(),"/").concat(this.getCorrectDatetime(u[0]).getMonth()+1,"/1,").concat(h)]=c;break;case/^days?$/i.test(e):r["".concat(this.getCorrectDatetime(s).getFullYear(),"/").concat(this.getCorrectDatetime(s).getMonth()+1,"/1")]=c;break;case/^hours?$/i.test(e):r["".concat(this.getCorrectDatetime(s).getFullYear(),"/").concat(this.getCorrectDatetime(s).getMonth()+1,"/1 0")]=c;break;case/^minutes?$/i.test(e):r["".concat(this.getCorrectDatetime(s).getFullYear(),"/").concat(this.getCorrectDatetime(s).getMonth()+1,"/1 0:00")]=c;break;case/^seconds?$/i.test(e):r["".concat(this.getCorrectDatetime(s).getFullYear(),"/").concat(this.getCorrectDatetime(s).getMonth()+1,"/1 0:00:00")]=c;break;default:r["".concat(this.getCorrectDatetime(s).getFullYear(),"/").concat(this.getCorrectDatetime(s).getMonth()+1)]=c}}return r}},{key:"_getGridsPerScale",value:function(t){for(var e=this._instanceProps,a=[],n={},i="/",r=0;r<e.grids;r++){var s=new Date(e.begin+r*e.scale),o=s.getFullYear(),c=Math.ceil(o/1e3),l=Math.ceil(o/100),u=Math.ceil(o/10),h=Math.ceil(o/5),d=s.getMonth()+1,g=s.getDay(),p=s.getDate(),f=this.getWeek("".concat(o,"/").concat(d,"/").concat(p)),E=s.getHours(),v=s.getMinutes(),m=s.getSeconds();a.push({millennium:c,century:l,decade:u,lustrum:h,year:o,month:"".concat(o).concat(i).concat(d).concat(i,"1"),week:"".concat(o,",").concat(f),weekday:"".concat(o).concat(i).concat(d).concat(i).concat(p,",").concat(g),day:"".concat(o).concat(i).concat(d).concat(i).concat(p),hour:"".concat(o).concat(i).concat(d).concat(i).concat(p," ").concat(E),minute:"".concat(o).concat(i).concat(d).concat(i).concat(p," ").concat(E,":").concat(v),second:"".concat(o).concat(i).concat(d).concat(i).concat(p," ").concat(E,":").concat(v,":").concat(m),datetime:s.toString()})}return a.forEach(function(e){n[e[t]]?n[e[t]]++:n[e[t]]=1}),n}},{key:"_createRulerContent",value:function(e,t,a){var n=this._config,i=this._instanceProps,r=this.supplement(y.ruler.top.height,a.height),s=this.supplement(y.ruler.top.fontSize,a.fontSize),o=this.supplement(y.ruler.top.color,a.color),c=this.supplement(y.ruler.top.locale,a.locale,this.validateString),l=this.supplement(y.ruler.top.format,a.format,this.validateObject),u=$("<div></div>",{class:I.TIMELINE_RULER_LINES,style:"width:100%;height:".concat(r,"px;")});for(var h in e){var d=/^(year|month)s?$/i.test(n.scale)?e[h]:e[h]*i.scaleSize,g=$("<div></div>",{class:I.TIMELINE_RULER_ITEM,style:"width:".concat(d,"px;height:").concat(r,"px;line-height:").concat(r,"px;font-size:").concat(s,"px;color:").concat(o,";")}),p=this.getLocaleString(h,t,c,l),f="";f="".concat(t,"-").concat(""===f?String(h):f),g.attr("data-ruler-item",f).html(p),d>this.strWidth(p)&&d>$(this._element).width()&&g.addClass(I.RULER_ITEM_ALIGN_LEFT),u.append(g).attr("data-ruler-scope",t)}return u}},{key:"_createSideIndex",value:function(e){var t=this._config,a=this._instanceProps,n=this.supplement(y.sidebar.sticky,t.sidebar.sticky),i=this.supplement(y.sidebar.overlay,t.sidebar.overlay),r=this.supplement(y.sidebar.list,t.sidebar.list),s=$("<div></div>",{class:I.TIMELINE_SIDEBAR}),o=$("<div></div>",{class:I.TIMELINE_SIDEBAR_MARGIN}),c=$("<div></div>",{class:I.TIMELINE_SIDEBAR_ITEM});n&&s.addClass(I.STICKY_LEFT),i&&c.addClass(I.OVERLAY),0<e.top&&s.prepend(o.clone().css("height","".concat(e.top+1,"px")));for(var l=0;l<a.rows;l++){var u=c.clone().html(r[l]);s.append(u)}return s.find(f.TIMELINE_SIDEBAR_ITEM).css("height","".concat(a.rowSize+.5,"px")).css("line-height","".concat(a.rowSize+.5,"px")),0<e.bottom&&s.append(o.clone().css("height","".concat(e.bottom+1,"px"))),s}},{key:"_createFooter",value:function(){var e=this._config,t=this._instanceProps,a=this.supplement(y.footer.display,e.footer.display),n=this.supplement(null,e.footer.content),i=this.supplement(y.footer.range,e.footer.range),r=this.supplement(y.footer.locale,e.footer.locale),s=this.supplement(y.footer.format,e.footer.format),o=this.supplement(null,t.begin),c=this.supplement(null,t.end),l=$("<div></div>",{class:I.TIMELINE_FOOTER});if(i&&o&&c){var u="".concat(new Date(o).toLocaleString(r,s),'<span class="').concat(I.RANGE_SPAN,'"></span>').concat(new Date(c).toLocaleString(r,s));l.append('<div class="'.concat(I.RANGE_META," ").concat(I.ALIGN_SELF_RIGHT,'">').concat(u,"</div>"))}return n&&l.append('<div class="'.concat(I.TIMELINE_FOOTER_CONTENT,'">').concat(n,"</div>")),a||l.addClass(I.HIDE),l}},{key:"_diffDate",value:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"millisecond",n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=this.supplement(null,e),r=this.supplement(null,t),s=0,o=!1,c=function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,1);return t.setTime(t.getTime()-1),t.getDate()},l=function(e){for(var t=new Date(e.getFullYear(),0,1),a=0,n=0;n<12;n++)t.setMonth(n),a+=c(t);return 365!=a};if(!i||!r)return console.warn("Cannot parse date because invalid format or undefined."),!1;s=r-i,n&&(s=Math.abs(s));var u=new Date(i),h=new Date(r),d=h.getFullYear()-u.getFullYear(),g={};switch(!0){case/^years?$/i.test(a):if(0<d)for(var p=0;p<=d;p++){var f=new Date(u.getFullYear()+p,0,1);g["".concat(u.getFullYear()+p)]=l(f)?366:365}else g["".concat(u.getFullYear())]=l(u)?366:365;o=g;break;case/^months?$/i.test(a):if(0<d){for(var E=u.getMonth();E<12;E++){var v=new Date(u.getFullYear(),E,1);g["".concat(u.getFullYear(),"/").concat(E+1)]=c(v)}if(1<d)for(var m=1;m<d;m++)for(var _=0;_<12;_++){var y=new Date(u.getFullYear()+m,_,1);g["".concat(u.getFullYear()+m,"/").concat(_+1)]=c(y)}for(var w=0;w<=h.getMonth();w++){var b=new Date(h.getFullYear(),w,1);g["".concat(h.getFullYear(),"/").concat(w+1)]=c(b)}}else for(var I=u.getMonth();I<=h.getMonth();I++){var T=new Date(u.getFullYear(),I,1);g["".concat(u.getFullYear(),"/").concat(I+1)]=c(T)}o=g;break;case/^weeks?$/i.test(a):o=Math.ceil(s/6048e5);break;case/^(|week)days?$/i.test(a):o=Math.ceil(s/864e5);break;case/^hours?$/i.test(a):o=Math.ceil(s/36e5);break;case/^minutes?$/i.test(a):o=Math.ceil(s/6e4);break;case/^seconds?$/i.test(a):o=Math.ceil(s/1e3);break;default:o=s}return o}},{key:"_loadEvent",value:function(){this._debug("_loadEvent");var a=this,e=this._element,t=this._config,n=$(e).find(f.TIMELINE_CONTAINER),i=$(e).find(f.DEFAULT_EVENTS),r=0,s=[],o=0;if(i.children().each(function(){var e=$(this).attr("data-timeline-node");void 0!==e&&!1!==e&&r++}),0!=i.length&&0!=r||this._debug("Enable event does not exist."),!1!==t.loader){var c=n.width(),l=n.height();$(e).find(f.TIMELINE_CONTAINER).append(this._showLoader(c,l))}i.children().each(function(){var e=a._getPluggableParams($(this).attr("data-timeline-node")),t={};a.is_empty(e)||(t=a._registerEventData(this,e),s.push(t),o=Math.max(o,parseInt(t.eventId,10)))});var u=[];s.forEach(function(e,t,a){var n=parseInt(a[t].eventId,10);0==n||u.includes(n)?(o++,a[t].eventId=o):a[t].eventId=n,u.push(a[t].eventId)}),"sessionStorage"in window&&null!==window.sessionStorage&&(sessionStorage.setItem(this._selector,JSON.stringify(s)),this._isCached=!0)}},{key:"_showLoader",value:function(e,t,a){a=this.supplement(0,a,this.validateNumeric);var n=this._config,i=$("<div></div>",{id:"jqtl-loader",style:"width:".concat(e,"px;height:").concat(t,"px;top:").concat(a,"px;")});if(0==$(n.loader).length){t="auto"===t?"240px":t,"Loading...".match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[\s\S]|^$/g).filter(Boolean).forEach(function(e,t){var a=$("<div></div>",{id:"jqtl-loading_".concat(t+1),class:I.LOADER_ITEM}).text(e);i.append(a)})}else{var r=$(n.loader).clone().prop("hidden",!1).css("display","block");i.append(r)}return i}},{key:"_hideLoader",value:function(){$(this._element).find(f.LOADER).remove()}},{key:"_registerEventData",value:function(t,a){var e,n,i,r=this,s=this._config,o=this._instanceProps,c=u({},p,{uid:this.generateUniqueID(),label:$(t).html()}),l={};return a.hasOwnProperty("start")&&(e=this._getCoordinateX(a.start),c.x=this.numRound(e,2),a.hasOwnProperty("end")?(n=(e=this._getCoordinateX(a.end))-c.x,c.width=this.numRound(n,2),s.eventMeta.display&&(this.is_empty(s.eventMeta.content)&&!a.hasOwnProperty("rangeMeta")?(c.rangeMeta+=this.getLocaleString(a.start,s.eventMeta.scale,s.eventMeta.locale,s.eventMeta.format),c.rangeMeta+=" - ".concat(this.getLocaleString(a.end,s.eventMeta.scale,s.eventMeta.locale,s.eventMeta.format))):c.rangeMeta=s.eventMeta.content)):c.width=0,a.hasOwnProperty("row")&&(i=Math.floor(a.row/2),c.y=(a.row-1)*s.rowHeight+c.margin+i),Object.keys(c).forEach(function(e){switch(!0){case/^(|event)id$/i.test(e):c.eventId=parseInt(a[e],10)||0;break;case/^(label|content)$/i.test(e):a.hasOwnProperty(e)&&!r.is_empty(a[e])&&(c[e]=a[e]),0<$(t).children(".event-".concat(e)).length&&(c[e]=$(t).children(".event-".concat(e)).html());break;case/^relation$/i.test(e):/^point(|er)$/i.test(s.type)&&(l.x=r.numRound(c.x,2),l.y=r.numRound(o.rowSize*((a.row||1)-1)+o.rowSize/2,2),c[e]=u({},a[e],l));break;default:a.hasOwnProperty(e)&&!r.is_empty(a[e])&&(c[e]=a[e])}})),c}},{key:"_getCoordinateX",value:function(e){var t=this._instanceProps,a=this.supplement(null,this._getPluggableDatetime(e)),n=0;return a?n=0<=a-t.begin&&0<=t.end-a?Math.abs(a-t.begin)/t.scale*t.scaleSize:(a-t.begin)/t.scale*t.scaleSize:console.warn("Cannot parse date because invalid format or undefined."),n}},{key:"_placeEvent",value:function(){var a=this;if(this._debug("_placeEvent"),this._isCached){var e=this._element,t=this._config,n=$(e).find(f.TIMELINE_EVENTS),i=$(e).find(f.TIMELINE_RELATION_LINES),r={};"sessionStorage"in window&&null!==window.sessionStorage&&(r=JSON.parse(sessionStorage.getItem(this._selector))),0<r.length&&r.forEach(function(e){var t=a._createEventNode(e);t&&n.append(t)}),/^point(|er)$/i.test(t.type)&&this._drawRelationLine(r),this.sleep(1).then(function(){a._hideLoader(),n.fadeIn("fast",function(){i.fadeIn("fast")})})}}},{key:"_createEventNode",value:function(e){var t=this._config,a=this._instanceProps,n=$("<div></div>",{class:I.TIMELINE_EVENT_NODE,id:"evt-".concat(e.eventId),css:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),color:this.hexToRgbA(e.color),backgroundColor:this.hexToRgbA(e.bgColor)},html:'<div class="'.concat(I.TIMELINE_EVENT_LABEL,'">').concat(e.label,"</div>")});if(0<=e.x?e.x<=a.fullwidth?e.x+e.width<=a.fullwidth||(e.width=a.fullwidth-e.x):e.width=-1:/^point(|er)$/i.test(t.type)?e.width=-1:e.x+e.width<=0?e.width=-1:(e.x+e.width<=a.fullwidth?e.width=Math.abs(e.x+e.width):e.width=a.fullwidth,e.x=0),/^point(|er)$/i.test(t.type)){if(e.width<0)return null;var i=this._getPointerSize(e.size,e.margin),r=this.numRound(e.x-i/2,2),s=this.numRound(e.y+(e.height-i)/2,2);n.addClass(I.VIEWER_EVENT_TYPE_POINTER).css("border-color",e.bdColor).css("left","".concat(r,"px")).css("top","".concat(s,"px")).css("width","".concat(i,"px")).css("height","".concat(i,"px")).attr("data-base-size",i).attr("data-base-left",r).attr("data-base-top",s)}else{if(e.width<1)return null;n.css("left","".concat(e.x,"px")).css("width","".concat(e.width,"px"))}if(n.attr("data-uid",e.uid),!this.is_empty(e.image))if(/^point(|er)$/i.test(t.type))n.css("background-image","url(".concat(e.image,")"));else{var o=e.height-2*e.margin;n.prepend('<img src="'.concat(e.image,'" class="').concat(I.TIMELINE_EVENT_THUMBNAIL,'" width="').concat(o,'" height="').concat(o,'" />'))}if(/^bar$/i.test(t.type)&&t.eventMeta.display&&(e.extend.meta=e.rangeMeta),!this.is_empty(e.extend))for(var c in e.extend)n.attr("data-".concat(c),e.extend[c]),"toggle"===c&&["popover","tooltip"].includes(e.extend[c])&&(n.attr("title",e.label),e.extend.hasOwnProperty("content")||n.attr("data-content",e.content));return this.is_empty(e.callback)||n.attr("data-callback",e.callback),n}},{key:"_getPointerSize",value:function(e,t){var a=this._instanceProps,n=Math.min(a.scaleSize,a.rowSize)-2*t,i=null;switch(!0){case/^large$/i.test(e):i=Math.max(this.numRound(.8*n,1),12);break;case/^normal$/i.test(e):i=Math.max(this.numRound(n/2,1),12);break;case/^small$/i.test(e):i=Math.max(this.numRound(n/4,1),12);break;default:i=Math.max(parseInt(e,10),12)}return i}},{key:"_drawRelationLine",value:function(c){var u=this,h=this._config,d=this._instanceProps,g=$(this._element).find(f.TIMELINE_RELATION_LINES)[0].getContext("2d"),l=function(e,t,a,n,i,r){var s={},o=u.numRound(Math.min(d.scaleSize,d.rowSize)/2,2);u.numRound(u._getPointerSize(i.size,h.marginHeight)/2,2);for(var c in g.strokeStyle=p.bdColor,g.lineWidth=2.5,g.filter="url(#crisp)",i.relation)switch(!0){case/^(|line)color$/i.test(c):g.strokeStyle=i.relation[c];break;case/^(|line)size$/i.test(c):g.lineWidth=parseInt(i.relation[c],10)||2.5;break;case/^curve$/i.test(c):if(/^(r|l)(t|b),?(r|l)?(t|b)?$/i.test(i.relation[c])){var l=i.relation[c].split(",");2==l.length?(s.before=l[0],s.after=l[1]):s[r]=l[0]}else("boolean"==typeof i.relation[c]&&i.relation[c]||"number"==typeof i.relation[c]&&Boolean(i.relation[c]))&&("before"===r?s[r]=n<t?a<e?"lb":e<a?"lb+lt":null:t<n?a<e?"lt":e<a?"lt+lb":null:null:"after"===r&&(s[r]=t<n?e<a?"rt":a<e?"rt+rb":null:n<t?e<a?"rb":a<e?"rb+rt":null:null))}if(Math.abs(n-t)>d.rowSize&&(n+=Math.floor(Math.abs(n-t)/d.rowSize)),g.beginPath(),u.is_empty(s))g.moveTo(e,t),g.lineTo(a,n);else switch(!0){case/^lt$/i.test(s[r]):g.moveTo(e,t),Math.abs(e-a)>o&&g.lineTo(a-o,t),Math.abs(n-t)>o?(g.quadraticCurveTo(a,t,a,t+o),g.lineTo(a,n)):g.quadraticCurveTo(a,t,a,n);break;case/^lb$/i.test(s[r]):g.moveTo(e,t),Math.abs(e-a)>o&&g.lineTo(a+o,t),Math.abs(t-n)>o?(g.quadraticCurveTo(a,t,a,t-o),g.lineTo(a,n)):g.quadraticCurveTo(a,t,a,n);break;case/^rt$/i.test(s[r]):g.moveTo(e,t),Math.abs(a-e)>o&&g.lineTo(a-o,t),Math.abs(n-t)>o?(g.quadraticCurveTo(a,t,a,t+o),g.lineTo(a,n)):g.quadraticCurveTo(a,t,a,n);break;case/^rb$/i.test(s[r]):g.moveTo(e,t),Math.abs(a-e)>o&&g.lineTo(a-o,t),Math.abs(t-n)>o?(g.quadraticCurveTo(a,t,a,t-o),g.lineTo(a,n)):g.quadraticCurveTo(a,t,a,n);break;case/^lt\+lb$/i.test(s[r]):case/^lb\+lt$/i.test(s[r]):g.moveTo(e,t),g.lineTo(e-o,t),g.bezierCurveTo(e-2*o,t,e-2*o,n,e-o,n),g.lineTo(a,n);break;case/^rt\+rb$/i.test(s[r]):case/^rb\+rt$/i.test(s[r]):g.moveTo(e,t),g.lineTo(e+o,t),g.bezierCurveTo(e+2*o,t,e+2*o,n,e+o,n),g.lineTo(a,n)}g.stroke()};c.forEach(function(e){var t,a,n,i,r,s,o=e.relation;o.hasOwnProperty("before")&&(t=o.x,a=o.y,(r=parseInt(o.before,10))<0?(n=0,i=a):(s=c.find(function(e){return parseInt(e.eventId,10)==r})).relation&&(n=s.relation.x<0?0:s.relation.x,i=s.relation.y),0<=t&&0<=a&&0<=n&&0<=i&&l(t,a,n,i,e,"before")),o.hasOwnProperty("after")&&(t=o.x,a=o.y,(r=parseInt(o.after,10))<0?(n=d.fullwidth,i=a):(s=c.find(function(e){return parseInt(e.eventId,10)==r})).relation&&(n=s.relation.x>d.fullwidth?d.fullwidth:s.relation.x,i=s.relation.y),0<=t&&0<=a&&0<=n&&0<=i&&l(t,a,n,i,e,"after"))})}},{key:"_mapPlacedEvents",value:function(){var a=this,e=$(this._element).find(f.TIMELINE_EVENTS).children(),n=null,i=[];return this._isCached&&"sessionStorage"in window&&null!==window.sessionStorage&&(n=JSON.parse(sessionStorage.getItem(this._selector))),e.each(function(){var t=$(this).data("uid"),e=null;e=n?n.find(function(e){return e.uid===t})||null:$(this).data(),a.is_empty(e)||i.push(e)}),i}},{key:"_activeEvent",value:function(e){var t=e.target;"focusin"===e.type?($(f.TIMELINE_EVENT_NODE).removeClass("active"),$(t).addClass("active")):"focusout"===e.type&&$(t).removeClass("active")}},{key:"_hoverPointer",value:function(e){var t=this._instanceProps,a=e.target,n={left:$(a).data("baseLeft"),top:$(a).data("baseTop"),width:$(a).data("baseSize")},i=n.left,r=n.top,s=n.width,o=5;"mouseenter"===e.type?(s=Math.max(this.numRound(1.2*s,"ceil"),Math.min(t.rowSize,t.scaleSize)),i=this.numRound(i-(s-n.width)/2,2),r=this.numRound(r-(s-n.width)/2,2),o=9,$(a).trigger(d.FOCUSIN_EVENT)):$(a).trigger(d.FOCUSOUT_EVENT),$(a).css("left","".concat(i,"px")).css("top","".concat(r,"px")).css("width","".concat(s,"px")).css("height","".concat(s,"px")).css("z-index",o)}},{key:"_debug",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Notice";if(this._config.debug&&(e=this.supplement(null,e))){var a=void 0!==$(this._element).data(o)[e]?'Called method "'.concat(e,'".'):e,n=/^Called method "/.test(a)?"font-weight:600;color:blue;":"";if(window.console&&window.console.log){if("Notice"!==t)throw new Error("".concat(a));window.console.log("%c%s%c",n,a,"")}}}},{key:"initialized",value:function(){var e=this._isInitialized?'Skipped because method "initialized" already has been called once':"initialized";this._debug(e);var t=this._element,a=this._config,n=arguments.length<=0?void 0:arguments[0],i=0<n.length&&"function"==typeof n[0]?n[0]:null,r=1<n.length?n.slice(1):null;i&&!this._isInitialized&&(this._debug("Fired your callback function after initializing this plugin."),i(t,a,r)),this._isInitialized=!0}},{key:"destroy",value:function(){for(var e in this._debug("destroy"),$.removeData(this._element,o),$(window,document,this._element).off(c),$(this._element).remove(),"sessionStorage"in window&&null!==window.sessionStorage&&this._isCached&&sessionStorage.removeItem(this._selector),this)this[e]=null,delete this[e]}},{key:"render",value:function(){throw new ReferenceError('This method named "render" has been deprecated since version 2.0.0')}},{key:"show",value:function(){this._debug("show");var e=this._element;this._isShown||($(e).removeClass(I.HIDE),this._isShown=!0)}},{key:"hide",value:function(){this._debug("hide");var e=this._element;this._isShown&&($(e).addClass(I.HIDE),this._isShown=!1)}},{key:"dateback",value:function(){this._debug("dateback")}},{key:"dateforth",value:function(){this._debug("dateforth")}},{key:"alignment",value:function(t){this._debug("alignment");var e=this._config,a=this._instanceProps,n=this._element,i=$(n).find(f.TIMELINE_CONTAINER),r=0;if(t=this.is_array(t)?t[0]:e.rangeAlign,!(a.fullwidth<=n.scrollWidth)){switch(!0){case/^(left|begin)$/i.test(t):r=0;break;case/^center$/i.test(t):r=(i[0].scrollWidth-n.scrollWidth)/2+1;break;case/^(right|end)$/i.test(t):r=i[0].scrollWidth-n.scrollWidth+1;break;case/^latest$/i.test(t):var s=this._mapPlacedEvents().sort(this.compareValues("x")),o=s[s.length-1];r=this.is_empty(o)?0:o.x,n.scrollWidth/2<r?r-=Math.ceil(n.scrollWidth/2):r=0,$("".concat(f.TIMELINE_EVENT_NODE,'[data-uid="').concat(o.uid,'"]')).trigger(d.FOCUSIN_EVENT);break;case/^\d{1,}$/.test(t):var c=this._mapPlacedEvents(),l={};0<c.length&&(l=c.find(function(e){return e.eventId==parseInt(t,10)})),r=this.is_empty(l)?0:l.x,Math.ceil(n.scrollWidth/2)<r?r-=Math.ceil(n.scrollWidth/2):r=0,$("".concat(f.TIMELINE_EVENT_NODE,'[data-uid="').concat(l.uid,'"]')).trigger(d.FOCUSIN_EVENT);break;case/^current(|ly)|now$/i.test(t):default:var u=(new Date).toString(),h=this.numRound(this._getCoordinateX(u),2);r=0<=h?i[0].scrollWidth-n.scrollWidth+1<h?i[0].scrollWidth-n.scrollWidth+1:h:0}i.scrollLeft(r)}}},{key:"getOptions",value:function(){throw new ReferenceError('This method named "getOptions" has been deprecated since version 2.0.0')}},{key:"addEvent",value:function(){var a=this;this._debug("addEvent");var e=arguments.length<=0?void 0:arguments[0],t=this.supplement(null,e[0]),n=1<e.length&&"function"==typeof e[1]?e[1]:null,i=2<e.length?e.slice(2):null,r=[],s=0;!this.is_empty(t)&&this._isCompleted&&(this._isCached&&"sessionStorage"in window&&null!==window.sessionStorage&&(r=JSON.parse(sessionStorage.getItem(this._selector))),this.is_empty(r)||(r.sort(this.compareValues("eventId")),s=parseInt(r[r.length-1].eventId,10)),t.forEach(function(e){var t=a._registerEventData("<div></div>",e);t.eventId=Math.max(s+1,parseInt(t.eventId,10)),r.push(t),s=parseInt(t.eventId,10)}),"sessionStorage"in window&&null!==window.sessionStorage&&sessionStorage.setItem(this._selector,JSON.stringify(r)),this._placeEvent(),n&&(this._debug("Fired your callback function after placing additional events."),n(this._element,this._config,i)))}},{key:"removeEvent",value:function(e){this._debug("removeEvent")}},{key:"updateEvent",value:function(e){this._debug("updateEvent")}},{key:"openEvent",value:function(e){this._debug("openEvent");var r=this,t=this._config,s=this._isCached,o=this._selector,a=e.target,n=$(document).find(f.EVENT_VIEW),c=$(a).data("uid"),i=this.supplement(null,$(a).data("callback"));if(0<n.length&&n.each(function(){var e=null,t=$("<div></div>",{class:I.VIEWER_EVENT_TITLE}),a=$("<div></div>",{class:I.VIEWER_EVENT_CONTENT}),n=$("<div></div>",{class:I.VIEWER_EVENT_META}),i=$("<div></div>",{class:I.VIEWER_EVENT_IMAGE_WRAPPER});s&&"sessionStorage"in window&&null!==window.sessionStorage&&(e=JSON.parse(sessionStorage.getItem(o)).find(function(e){return e.uid===c})),$(this).empty(),r.is_empty(e.image)||(i.append('<img src="'.concat(e.image,'" class="').concat(I.VIEWER_EVENT_IMAGE,'" />')),$(this).append(i)),r.is_empty(e.label)||(t.html(e.label),$(this).append(t)),r.is_empty(e.content)||(a.html(e.content),$(this).append(a)),r.is_empty(e.rangeMeta)||(n.html(e.rangeMeta),$(this).append(n))}),i){t.debug&&this._debug('The callback "'.concat(i,'" was called by the "openEvent" method.'));try{Function.call(null,"return ".concat(i))()}catch(e){throw new TypeError(e)}}}},{key:"is_empty",value:function(e){if(null==e)return!0;switch(r(e)){case"object":return Array.isArray(e)?0===e.length:!(0<Object.keys(e).length||0<Object.getOwnPropertySymbols(e).length)&&(void 0!==e.valueOf().length?0===e.valueOf().length:"object"===r(e.valueOf())||this.is_empty(e.valueOf()));case"string":return""===e;case"number":return 0==e;case"boolean":return!e;case"undefined":case"null":return!0;case"symbol":case"function":default:return!1}}},{key:"is_array",value:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{key:"sleep",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return new Promise(function(e){setTimeout(e,t)})}},{key:"supplement",value:function(e,t,a){return void 0===t?e:void 0===a?t:a(e,t)}},{key:"generateUniqueID",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3;return(new Date).getTime().toString(16)+Math.floor(e*Math.random()).toString(16)}},{key:"numRound",value:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"round";t=this.supplement(0,t,this.validateNumeric);var n=Math.pow(10,t);switch(!0){case/^ceil$/i.test(a):return Math.ceil(e*n)/n;case/^floor$/i.test(a):return Math.floor(e*n)/n;case/^round$/i.test(a):default:return Math.round(e*n)/n}}},{key:"hexToRgbA",value:function(e){var t,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x".concat(t.join("")),"rgba(".concat([t>>16&255,t>>8&255,255&t].join(","),",").concat(a,")")):e}},{key:"getCorrectDatetime",value:function(e){var t=function(e){return e.replace(/-/g,"/")};if(isNaN(Date.parse(t(e))))return console.warn('"'.concat(e,'" Cannot parse date because invalid format.')),null;var a=new Date(t(e)),n=e.split(/-|\//);return parseInt(n[0],10)<100&&a.setFullYear(parseInt(n[0],10)),a}},{key:"getWeek",value:function(e){var t=new Date(e),a=new Date(t.getFullYear(),0,1);return Math.ceil(((t-a)/864e5+a.getDay()+1)/7)}},{key:"getHigherScale",value:function(e){var t=e;switch(!0){case/^millisec(|ond)s?$/i.test(e):t="second";break;case/^seconds?$/i.test(e):t="minute";break;case/^minutes?$/i.test(e):t="hour";break;case/^quarter-?(|hour)$/i.test(e):case/^half-?(|hour)$/i.test(e):case/^hours?$/i.test(e):t="day";break;case/^days?$/i.test(e):case/^weeks?$/i.test(e):t="month";break;case/^months?$/i.test(e):t="year";break;case/^years?$/i.test(e):t="lustrum";break;case/^lustrum$/i.test(e):t="decade";break;case/^dec(ade|ennium)$/i.test(e):t="century";break;case/^century$/i.test(e):t="millennium";break;case/^millenniums?|millennia$/i.test(e):}return t}},{key:"getLocaleString",value:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"en-US",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};var i,r,s=function(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}(),o="",c={},l=function(e){var t=["th","st","nd","rd"],a=e%100;return e+(t[(a-20)%10]||t[a]||t[0])};for(i in n)"timeZone"!==i&&"hour12"!==i||(c[i]=n[i]);switch(!0){case/^millenniums?|millennia$/i.test(t):case/^century$/i.test(t):case/^dec(ade|ennium)$/i.test(t):case/^lustrum$/i.test(t):o=n.hasOwnProperty(t)&&"ordinal"===n[t]?l(e):e;break;case/^years?$/i.test(t):s&&n.hasOwnProperty(t)&&(["numeric","2-digit"].includes(n[t])?(c.year=n[t],o=this.getCorrectDatetime(e).toLocaleString(a,c)):"zerofill"===n[t]&&(o=function(e){var t,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,n=(t="0",Array(a-1+1).join(t));return String(e).length==a?String(e):(n+e).substr(-1*e)}(e))),o=this.is_empty(o)?this.getCorrectDatetime(e).getFullYear():o;break;case/^months?$/i.test(t):s&&n.hasOwnProperty(t)&&["numeric","2-digit","narrow","short","long"].includes(n[t])&&(c.month=n[t],o=new Date(e).toLocaleString(a,c)),o=this.is_empty(o)?new Date(e).getMonth()+1:o;break;case/^weeks?$/i.test(t):r=e.split(","),o=n.hasOwnProperty(t)&&"ordinal"===n[t]?l(r):r[1];break;case/^weekdays?$/i.test(t):if(r=e.split(","),s)c.weekday=n.hasOwnProperty("weekday")?n.weekday:"narrow",o=new Date(r[0]).toLocaleString(a,c);else{o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r[1]]}break;case/^days?$/i.test(t):o=s?(c.day=n.hasOwnProperty("day")?n.day:"numeric",a=n.hasOwnProperty("day")?a:"en-US",new Date(e).toLocaleString(a,c)):new Date(e).getDate();break;case/^hours?$/i.test(t):case/^(half|quarter)-?hours?$/i.test(t):if("string"==typeof e){var u=e.split(":");1==u.length?e="".concat(e,":00:00"):2==u.length&&(e="".concat(e,":00"))}o=s?(c.hour=n.hasOwnProperty("hour")?n.hour:"numeric",n.hasOwnProperty("minute")&&(c.minute=n.hasOwnProperty("minute")?n.minute:"numeric"),new Date(e).toLocaleString(a,c)):new Date(e).getHours();break;case/^minutes?$/i.test(t):o=s?(c.minute=n.hasOwnProperty("minute")?n.minute:"numeric",n.hasOwnProperty("hour")&&(c.hour=n.hasOwnProperty("hour")?n.hour:"numeric"),new Date(e).toLocaleString(a,c)):new Date(e).getMinutes();break;case/^seconds?$/i.test(t):o=s?(c.second=n.hasOwnProperty("second")?n.second:"numeric",n.hasOwnProperty("hour")&&(c.hour=n.hasOwnProperty("hour")?n.hour:"numeric"),n.hasOwnProperty("minute")&&(c.minute=n.hasOwnProperty("minute")?n.minute:"numeric"),new Date(e).toLocaleString(a,c)):new Date(e).getSeconds();break;case/^millisec(|ond)s?$/i.test(t):default:o=new Date(e)}return o}},{key:"strWidth",value:function(e){var t,a=$('<span id="jqtl-str-ruler"></span>');return 0==$("#jqtl-str-ruler").length&&$("body").append(a),t=$("#jqtl-str-ruler").text(e).get(0).offsetWidth,$("#jqtl-str-ruler").empty(),t}},{key:"compareValues",value:function(r){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"asc";return function(e,t){if(!e.hasOwnProperty(r)||!t.hasOwnProperty(r))return 0;var a="string"==typeof e[r]?e[r].toUpperCase():e[r],n="string"==typeof t[r]?t[r].toUpperCase():t[r],i=0;return n<a?i=1:a<n&&(i=-1),"desc"===s?-1*i:i}}},{key:"validateString",value:function(e,t){return"string"==typeof t&&""!==t?t:e}},{key:"validateNumeric",value:function(e,t){return"number"==typeof t?Number(t):e}},{key:"validateBoolean",value:function(e,t){return"boolean"==typeof t||"object"===r(t)&&null!==t&&"boolean"==typeof t.valueOf()?t:e}},{key:"validateObject",value:function(e,t){return"object"===r(t)?t:e}}])&&n(e.prototype,t),a&&n(e,a),i}();$.fn[s]=g._jQueryInterface,$.fn[s].Constructor=g,$.fn[s].noConflict=function(){return $.fn[s]=l,g._jQueryInterface}},{}]},{},[1]);
//# sourceMappingURL=jquery.timeline.min.js.map
